@model  GroupProject.ViewModels.ProducersData

@{
    ViewBag.Title = "UsersAccount";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h4>Producers</h4>

<div class="row">
    <div>


        <p style="color :orange;">
            @Html.ActionLink("Productions", "Index", "OilPresses") |
            @Html.ActionLink("Factories", "Index", "Factories") |
            @Html.ActionLink("Bottlings", "Index", "Bottlings") |
            @Html.ActionLink("Shops", "Index", "Shops")
        </p>

    </div>
</div>

@*<p>
        @Html.ActionLink("Create New", "Create")
    </p>*@
<table class="table">
    <tr>
        <th>
            First Name
        </th>
        <th>
            Last Name
        </th>
        <th>
            Email
        </th>
        <th>
            UserName
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model.UsersAccounts)
    {
        string selectedRow = "";
        if (item.UserId == ViewBag.UserId)
        {
            selectedRow = "success";
        }
        <tr class="@selectedRow">
            <td>
                @Html.DisplayFor(modelItem => item.FirstName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.LastName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Email)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.UserName)
            </td>
            <td>
                @Html.ActionLink("Select", "Index", new { id = item.UserId }) |
                @Html.ActionLink("Edit", "Edit", new { id = item.UserId }) |
                @Html.ActionLink("Details", "Details", new { id = item.UserId }) |
                @Html.ActionLink("Delete", "Delete", new { id = item.UserId })
            </td>
        </tr>
    }
</table>

<h4>
    @Html.ActionLink("Create New Producer", "Create")
</h4>

@if (Model.OilPresses != null)
{
    <h3>Productions made by Selected Producer</h3>
    <table class="table">
        <tr>
            <th>Factory</th>
            <th>Production Name</th>
            <th>Production Date</th>
            <th>Olives(Kg)</th>
            <th>OliveOil(kg)</th>
        </tr>

        @foreach (var item in Model.OilPresses)
        {
            string selectedRow = "";
            if (item.OilPressID == ViewBag.OilPressID)
            {
                selectedRow = "success";
            }
            <tr class="@selectedRow">
                @*<td>
                        @Html.ActionLink("Select", "Index", new { oilPressID = item.OilPressID })
                    </td>*@
                @*<td>
                        @item.OilPressID
                    </td>*@
                <td>
                    @item.Factory.FactoryName
                </td>
                <td>
                    @item.OilPressName
                </td>
                <td>
                    @item.ProductionDate
                </td>
                <td>
                    @item.OlivesWeight
                </td>
                <td>
                    @item.OilOutput
                </td>

            </tr>
        }

    </table>

}





























